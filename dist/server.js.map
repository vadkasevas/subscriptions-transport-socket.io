{"version":3,"file":"server.js","sourceRoot":"","sources":["../src/server.ts"],"names":[],"mappings":";;AAAA,iDAA2C;AAC3C,uCAA+D;AAC/D,0CAA6C;AAC7C,mCASiB;AACjB,yDAA6D;AAC7D,mCAA6E;AAC7E,6DAAoE;AACpE,wEAA4E;AAG5E,mFAKkD;AAClD,6EAA4E;AA6E5E;IAwBE,4BAAY,OAAsB,EAAE,aAAkB,EAAE,aAAmB;QAA3E,iBAmFC;QAjFG,IAAA,iCAAW,EACX,iDAAmB,EACnB,6BAAS,EACT,mCAAY,EACZ,6BAAS,CACC;QAEZ,IAAI,CAAC,MAAM,GAAG,aAAa,IAAI,yCAAmB,CAAC;QAEnD,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,eAAe,IAAI,wBAAc,CAAC;QAChE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAE3B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAI3B,IAAI,CAAC,QAAQ,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAE/C,IAAM,iBAAiB,GAAG,UACxB,MAAsB,EACtB,OAAwB;YAIvB,MAAc,CAAC,UAAU,GAAG,OAAO,CAAC;YAErC,IACE,MAAM,CAAC,QAAQ,KAAK,SAAS;gBAC7B,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAU,CAAC,KAAK,CAAC,CAAC;oBACzC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,gCAAqB,CAAC,KAAK,CAAC,CAAC,CAAC,EACxD;gBAIA,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;gBAEnB,OAAO;aACR;YAED,IAAM,iBAAiB,GAAsB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACjE,iBAAiB,CAAC,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACtD,iBAAiB,CAAC,QAAQ,GAAG,KAAK,CAAC;YACnC,iBAAiB,CAAC,MAAM,GAAG,MAAM,CAAC;YAClC,iBAAiB,CAAC,OAAO,GAAG,OAAO,CAAC;YACpC,iBAAiB,CAAC,UAAU,GAAG,EAAE,CAAC;YAElC,IAAM,uBAAuB,GAAG,UAAC,KAAU;gBACzC,IAAI,KAAK,EAAE;oBACT,KAAI,CAAC,SAAS,CACZ,iBAAiB,EACjB,EAAE,EACF,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,EAClD,uBAAY,CAAC,oBAAoB,CAClC,CAAC;oBAEF,UAAU,CAAC;wBAET,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACvC,CAAC,EAAE,EAAE,CAAC,CAAC;iBACR;gBACD,KAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;gBAEhC,IAAI,KAAI,CAAC,YAAY,EAAE;oBACrB,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;iBAC9C;YACH,CAAC,CAAC;YAEF,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,uBAAuB,CAAC,CAAC;YAC5C,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,uBAAuB,CAAC,CAAC;YAC5C,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,GAAG;YAClB,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;YAC9D,KAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;IA3Fa,yBAAM,GAApB,UACE,OAAsB,EACtB,aAAkB,EAClB,aAAmB;QAEnB,OAAO,IAAI,kBAAkB,CAAC,OAAO,EAAE,aAAa,EAAE,aAAa,CAAC,CAAC;IACvE,CAAC;IAuFD,sBAAW,sCAAM;aAAjB;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAEM,kCAAK,GAAZ;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEO,yCAAY,GAApB,UAAqB,OAAsB;QACjC,IAAA,yBAAO,EAAE,6BAAS,EAAE,uBAAM,EAAE,6BAAS,CAAa;QAE1D,IAAI,CAAC,OAAO,EAAE;YACZ,MAAM,IAAI,KAAK,CACb,0DAA0D,CAC3D,CAAC;SACH;QAED,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;SACxC;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAEO,wCAAW,GAAnB,UAAoB,iBAAoC,EAAE,IAAY;QACpE,IAAI,iBAAiB,CAAC,UAAU,IAAI,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;YACtE,IAAI,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE;gBAC7C,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;aAC7C;YAED,OAAO,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAE1C,IAAI,IAAI,CAAC,mBAAmB,EAAE;gBAC5B,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;aAC1D;SACF;IACH,CAAC;IAEO,oCAAO,GAAf,UAAgB,iBAAoC;QAApD,iBAIC;QAHC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAA,IAAI;YACpD,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,sCAAS,GAAjB,UAAkB,iBAAoC;QAAtD,iBA8RC;QA7RC,OAAO,UAAC,OAAY;YAClB,IAAI,aAA+B,CAAC;YACpC,IAAI;gBACF,aAAa,GAAG,kDAA0B,CACxC,iBAAiB,EACjB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CACpB,CAAC;aACH;YAAC,OAAO,CAAC,EAAE;gBACV,KAAI,CAAC,SAAS,CACZ,iBAAiB,EACjB,IAAI,EACJ,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,EACtB,uBAAY,CAAC,oBAAoB,CAClC,CAAC;gBACF,OAAO;aACR;YAED,IAAM,IAAI,GAAG,aAAa,CAAC,EAAE,CAAC;YAC9B,QAAQ,aAAa,CAAC,IAAI,EAAE;gBAC1B,KAAK,uBAAY,CAAC,mBAAmB;oBACnC,IAAI,KAAI,CAAC,SAAS,EAAE;wBAClB,iBAAiB,CAAC,WAAW,GAAG,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;4BAC1D,IAAI;gCAGF,OAAO,CACL,KAAI,CAAC,SAAS,CACZ,aAAa,CAAC,OAAO,EACrB,iBAAiB,CAAC,MAAM,EACxB,iBAAiB,CAClB,CACF,CAAC;6BACH;4BAAC,OAAO,CAAC,EAAE;gCACV,MAAM,CAAC,CAAC,CAAC,CAAC;6BACX;wBACH,CAAC,CAAC,CAAC;qBACJ;oBAED,iBAAiB,CAAC,WAAW;yBAC1B,IAAI,CAAC,UAAA,MAAM;wBACV,IAAI,MAAM,KAAK,KAAK,EAAE;4BACpB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;yBAC3C;wBAED,KAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,SAAS,EACT,uBAAY,CAAC,kBAAkB,EAC/B,SAAS,CACV,CAAC;wBAEF,IAAI,KAAI,CAAC,SAAS,EAAE;4BAClB,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;4BAEtC,IAAM,gBAAc,GAAG,WAAW,CAAC;gCACjC,IAAI,iBAAiB,CAAC,MAAM,CAAC,KAAK,KAAK,8BAAK,CAAC,IAAI,EAAE;oCACjD,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;iCACvC;qCAAM;oCACL,aAAa,CAAC,gBAAc,CAAC,CAAC;iCAC/B;4BACH,CAAC,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;yBACpB;oBACH,CAAC,CAAC;yBACD,KAAK,CAAC,UAAC,KAAY;wBAClB,KAAI,CAAC,SAAS,CACZ,iBAAiB,EACjB,IAAI,EACJ,EAAE,OAAO,EAAE,KAAK,CAAC,OAAO,EAAE,EAC1B,uBAAY,CAAC,oBAAoB,CAClC,CAAC;wBAOF,UAAU,CAAC;4BACT,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;wBACvC,CAAC,EAAE,EAAE,CAAC,CAAC;oBACT,CAAC,CAAC,CAAC;oBACL,MAAM;gBAER,KAAK,uBAAY,CAAC,wBAAwB;oBACxC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;oBACjC,MAAM;gBAER,KAAK,uBAAY,CAAC,SAAS;oBACzB,iBAAiB,CAAC,WAAW;yBAC1B,IAAI,CAAC,UAAA,UAAU;wBAEd,IACE,iBAAiB,CAAC,UAAU;4BAC5B,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,EAClC;4BACA,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;yBAC3C;wBAED,IAAM,UAAU,GAAoB;4BAClC,KAAK,EAAE,aAAa,CAAC,OAAO,CAAC,KAAK;4BAClC,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,SAAS;4BAC1C,aAAa,EAAE,aAAa,CAAC,OAAO,CAAC,aAAa;4BAClD,OAAO,EAAE,QAAQ,CAAC,UAAU,CAAC;gCAC3B,CAAC,CAAC,MAAM,CAAC,MAAM,CACX,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,EAChD,UAAU,CACX;gCACH,CAAC,CAAC,EAAE;4BACN,cAAc,EAAO,SAAS;4BAC9B,WAAW,EAAO,SAAS;4BAC3B,QAAQ,EAAO,SAAS;yBACzB,CAAC;wBACF,IAAI,cAAc,GAAG,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;wBAGjD,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,oCAAmB,EAAE,CAAC;wBAE3D,IAAI,KAAI,CAAC,WAAW,EAAE;4BACpB,IAAI,kBAAkB,GAAQ,aAAa,CAAC;4BAC5C,cAAc,GAAG,OAAO,CAAC,OAAO,CAC9B,KAAI,CAAC,WAAW,CACd,kBAAkB,EAClB,UAAU,EACV,iBAAiB,CAAC,MAAM,CACzB,CACF,CAAC;yBACH;wBAED,cAAc;6BACX,IAAI,CAAC,UAAC,MAAW;4BAChB,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;gCAC9B,IAAM,KAAK,GAAG,4EAA4E,CAAC;gCAC3F,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;gCAE5D,MAAM,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;6BACxB;4BAED,IAAM,QAAQ,GACZ,OAAO,UAAU,CAAC,KAAK,KAAK,QAAQ;gCAClC,CAAC,CAAC,UAAU,CAAC,KAAK;gCAClB,CAAC,CAAC,eAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;4BAC9B,IAAI,gBAEH,CAAC;4BACF,IAAM,gBAAgB,GAAG,kBAAQ,CAC/B,KAAI,CAAC,MAAM,EACX,QAAQ,EACR,KAAI,CAAC,cAAc,CACpB,CAAC;4BAEF,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;gCAC/B,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAAC;oCACjC,MAAM,EAAE,gBAAgB;iCACzB,CAAC,CAAC;6BACJ;iCAAM;gCACL,IAAI,QAAQ,GAAwC,KAAI;qCACrD,OAAO,CAAC;gCACX,IACE,KAAI,CAAC,SAAS;oCACd,2CAAwB,CAAC,QAAQ,EAAE,MAAM,CAAC,aAAa,CAAC,EACxD;oCACA,QAAQ,GAAG,KAAI,CAAC,SAAS,CAAC;iCAC3B;gCACD,gBAAgB,GAAG,OAAO,CAAC,OAAO,CAChC,QAAQ,CACN,KAAI,CAAC,MAAM,EACX,QAAQ,EACR,KAAI,CAAC,SAAS,EACd,MAAM,CAAC,OAAO,EACd,MAAM,CAAC,SAAS,EAChB,MAAM,CAAC,aAAa,CACrB,CACF,CAAC;6BACH;4BAED,OAAO,gBAAgB,CAAC,IAAI,CAAC,UAAA,eAAe,IAAI,OAAA,CAAC;gCAC/C,iBAAiB,EAAE,yBAAe,CAAC,eAAe,CAAC;oCACjD,CAAC,CAAC,eAAe;oCACjB,CAAC,CAAC,6BAAmB,CAAC,CAAC,eAAe,CAAC,CAAC;gCAC1C,MAAM,QAAA;6BACP,CAAC,EAL8C,CAK9C,CAAC,CAAC;wBACN,CAAC,CAAC;6BACD,IAAI,CAAC,UAAC,EAA6B;gCAA3B,wCAAiB,EAAE,kBAAM;4BAChC,sBAAY,CACV,iBAAwB,EACxB,UAAC,KAAsB;gCACrB,IAAI,MAAM,GAAG,KAAK,CAAC;gCAEnB,IAAI,MAAM,CAAC,cAAc,EAAE;oCACzB,IAAI;wCACF,MAAM,GAAG,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;qCAC/C;oCAAC,OAAO,GAAG,EAAE;wCACZ,OAAO,CAAC,KAAK,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC;qCACtD;iCACF;gCAED,KAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,IAAI,EACJ,uBAAY,CAAC,QAAQ,EACrB,MAAM,CACP,CAAC;4BACJ,CAAC,CACF;iCACE,IAAI,CAAC;gCACJ,KAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,IAAI,EACJ,uBAAY,CAAC,YAAY,EACzB,IAAI,CACL,CAAC;4BACJ,CAAC,CAAC;iCACD,KAAK,CAAC,UAAC,CAAQ;gCACd,IAAI,KAAK,GAAG,CAAC,CAAC;gCAEd,IAAI,MAAM,CAAC,WAAW,EAAE;oCACtB,IAAI;wCACF,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;qCACvC;oCAAC,OAAO,GAAG,EAAE;wCACZ,OAAO,CAAC,KAAK,CAAC,iCAAiC,EAAE,GAAG,CAAC,CAAC;qCACvD;iCACF;gCAGD,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;oCAC/B,KAAK,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;iCAC9C;gCAED,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;4BACjD,CAAC,CAAC,CAAC;4BAEL,OAAO,iBAAiB,CAAC;wBAC3B,CAAC,CAAC;6BACD,IAAI,CAAC,UAAC,YAA+B;4BACpC,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC;wBACpD,CAAC,CAAC;6BACD,IAAI,CAAC;4BAGJ,KAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,IAAI,EACJ,uBAAY,CAAC,oBAAoB,EACjC,SAAS,CACV,CAAC;wBACJ,CAAC,CAAC;6BACD,KAAK,CAAC,UAAC,CAAM;4BACZ,IAAI,CAAC,CAAC,MAAM,EAAE;gCACZ,KAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,IAAI,EACJ,uBAAY,CAAC,QAAQ,EACrB,EAAE,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CACrB,CAAC;6BACH;iCAAM;gCACL,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE;oCACtC,OAAO,EAAE,CAAC,CAAC,OAAO;iCACnB,CAAC,CAAC;6BACJ;4BAGD,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;4BAC1C,OAAO;wBACT,CAAC,CAAC,CAAC;wBACL,OAAO,cAAc,CAAC;oBACxB,CAAC,CAAC;yBACD,KAAK,CAAC,UAAA,KAAK;wBAEV,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE;4BACtC,OAAO,EAAE,KAAK,CAAC,OAAO;yBACvB,CAAC,CAAC;wBACH,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBAC5C,CAAC,CAAC,CAAC;oBACL,MAAM;gBAER,KAAK,uBAAY,CAAC,QAAQ;oBAExB,KAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;oBAC1C,MAAM;gBAER;oBACE,KAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,EAAE;wBACtC,OAAO,EAAE,uBAAuB;qBACjC,CAAC,CAAC;aACN;QACH,CAAC,CAAC;IACJ,CAAC;IAEO,0CAAa,GAArB,UAAsB,iBAAoC;QACxD,IAAI,iBAAiB,CAAC,QAAQ,EAAE;YAC9B,IAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,SAAS,EACT,uBAAY,CAAC,UAAU,EACvB,SAAS,CACV,CAAC;SACH;aAAM;YACL,IAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,SAAS,EACT,uBAAY,CAAC,yBAAyB,EACtC,SAAS,CACV,CAAC;SACH;IACH,CAAC;IAEO,wCAAW,GAAnB,UACE,iBAAoC,EACpC,IAAY,EACZ,IAAY,EACZ,OAAY;QAEZ,IAAM,aAAa,GAAG,kDAA0B,CAAC,iBAAiB,EAAE;YAClE,IAAI,MAAA;YACJ,EAAE,EAAE,IAAI;YACR,OAAO,SAAA;SACR,CAAC,CAAC;QAEH,IAAI,aAAa,IAAI,iBAAiB,CAAC,MAAM,CAAC,KAAK,KAAK,8BAAK,CAAC,IAAI,EAAE;YAClE,iBAAiB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC;SAC9D;IACH,CAAC;IAEO,sCAAS,GAAjB,UACE,iBAAoC,EACpC,IAAY,EACZ,YAAiB,EACjB,wBAAiC;QAEjC,IAAM,iCAAiC,GACrC,wBAAwB,IAAI,uBAAY,CAAC,SAAS,CAAC;QACrD,IACE,CAAC,uBAAY,CAAC,oBAAoB,EAAE,uBAAY,CAAC,SAAS,CAAC,CAAC,OAAO,CACjE,iCAAiC,CAClC,KAAK,CAAC,CAAC,EACR;YACA,MAAM,IAAI,KAAK,CACb,sEAAsE;gBACpE,oCAAoC,CACvC,CAAC;SACH;QAED,IAAI,CAAC,WAAW,CACd,iBAAiB,EACjB,IAAI,EACJ,iCAAiC,EACjC,YAAY,CACb,CAAC;IACJ,CAAC;IACH,yBAAC;AAAD,CAAC,AAzfD,IAyfC;AAzfY,gDAAkB"}